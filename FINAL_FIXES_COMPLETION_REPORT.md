# üéâ –ò–¢–û–ì–û–í–´–ô –û–¢–ß–ï–¢: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω—ã —É—Å–ø–µ—à–Ω–æ

## üìã –û–±–∑–æ—Ä –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö —Ä–∞–±–æ—Ç

–í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –±—ã–ª–∏ —É—Å–ø–µ—à–Ω–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã. –°–∏—Å—Ç–µ–º–∞ TTS –æ–±—É—á–µ–Ω–∏—è —Ç–µ–ø–µ—Ä—å –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞ –∏ –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–±–æ—Ç–µ.

## ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. **–ò–º–ø–æ—Ä—Ç—ã –º–æ–¥—É–ª–µ–π** 
- **–ü—Ä–æ–±–ª–µ–º–∞**: –û—à–∏–±–∫–∏ –∏–º–ø–æ—Ä—Ç–∞ `utils.dynamic_padding` –∏ `utils.bucket_batching`
- **–†–µ—à–µ–Ω–∏–µ**: ‚úÖ –í—Å–µ –∏–º–ø–æ—Ä—Ç—ã –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –Ω–∞ `training_utils.dynamic_padding` –∏ `training_utils.bucket_batching`
- **–°—Ç–∞—Ç—É—Å**: –ü–æ–ª–Ω–æ—Å—Ç—å—é –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

### 2. **MLflow –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**
- **–ü—Ä–æ–±–ª–µ–º–∞**: –û—à–∏–±–∫–∞ "Run with UUID is already active"
- **–†–µ—à–µ–Ω–∏–µ**: ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ run –ø–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º –Ω–æ–≤–æ–≥–æ
- **–°—Ç–∞—Ç—É—Å**: –ü–æ–ª–Ω–æ—Å—Ç—å—é –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

### 3. **TensorBoard –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**
- **–ü—Ä–æ–±–ª–µ–º–∞**: –õ–æ–≥–∏ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–ª–∏—Å—å –≤ TensorBoard
- **–†–µ—à–µ–Ω–∏–µ**: ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ, —Ñ–∞–π–ª—ã —Å–æ–∑–¥–∞—é—Ç—Å—è
- **–°—Ç–∞—Ç—É—Å**: –ü–æ–ª–Ω–æ—Å—Ç—å—é –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

### 4. **–í—ã—á–∏—Å–ª–µ–Ω–∏–µ attention –¥–∏–∞–≥–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏**
- **–ü—Ä–æ–±–ª–µ–º–∞**: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ –¥–∏–∞–≥–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ attention
- **–†–µ—à–µ–Ω–∏–µ**: ‚úÖ –£–ª—É—á—à–µ–Ω –∞–ª–≥–æ—Ä–∏—Ç–º –≤—ã—á–∏—Å–ª–µ–Ω–∏—è —Å –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–µ–π –∏ –æ–±—Ä–∞–±–æ—Ç–∫–æ–π batch
- **–°—Ç–∞—Ç—É—Å**: –ü–æ–ª–Ω–æ—Å—Ç—å—é –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

### 5. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**
- **–ü—Ä–æ–±–ª–µ–º–∞**: –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
- **–†–µ—à–µ–Ω–∏–µ**: ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∏–∞–≥–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –∫–∞–∂–¥—ã–µ 100 —à–∞–≥–æ–≤
- **–°—Ç–∞—Ç—É—Å**: –ü–æ–ª–Ω–æ—Å—Ç—å—é –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

## üß™ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –ö–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
```
üß™ –ó–∞–ø—É—Å–∫ –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π
==================================================
üîç –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–º–ø–æ—Ä—Ç–æ–≤...
‚úÖ –ò–º–ø–æ—Ä—Ç—ã training_utils —É—Å–ø–µ—à–Ω—ã
‚úÖ –ò–º–ø–æ—Ä—Ç—ã torch –∏ numpy —É—Å–ø–µ—à–Ω—ã
‚úÖ –ò–º–ø–æ—Ä—Ç MLflow —É—Å–ø–µ—à–µ–Ω
‚úÖ –ò–º–ø–æ—Ä—Ç TensorBoard —É—Å–ø–µ—à–µ–Ω

üìù –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è...
‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ —É—Å–ø–µ—à–Ω–æ
‚úÖ –õ–æ–≥ —Ñ–∞–π–ª —Å–æ–∑–¥–∞–Ω: test_logging.log

üî¨ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ MLflow...
‚úÖ –°–æ–∑–¥–∞–Ω –Ω–æ–≤—ã–π MLflow run
‚úÖ –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∏ –º–µ—Ç—Ä–∏–∫–∏ –∑–∞–ø–∏—Å–∞–Ω—ã –≤ MLflow

üìä –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ TensorBoard...
‚úÖ TensorBoard –ª–æ–≥–∏ –∑–∞–ø–∏—Å–∞–Ω—ã –≤ test_tensorboard_logs

üöÄ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–º–ø–æ—Ä—Ç–∞ enhanced training...
‚úÖ EnhancedTacotronTrainer –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω —É—Å–ø–µ—à–Ω–æ
‚úÖ SmartTunerMain –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω —É—Å–ø–µ—à–Ω–æ
‚úÖ EnhancedMLflowLogger –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω —É—Å–ø–µ—à–Ω–æ

üìã –ò–¢–û–ì–û–í–´–ô –û–¢–ß–ï–¢
==================================================
–ò–º–ø–æ—Ä—Ç—ã: ‚úÖ –ü–†–û–ô–î–ï–ù
–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ: ‚úÖ –ü–†–û–ô–î–ï–ù
MLflow: ‚úÖ –ü–†–û–ô–î–ï–ù
TensorBoard: ‚úÖ –ü–†–û–ô–î–ï–ù
Enhanced Training: ‚úÖ –ü–†–û–ô–î–ï–ù

üìä –†–µ–∑—É–ª—å—Ç–∞—Ç: 5/5 —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ–π–¥–µ–Ω–æ
üéâ –í–°–ï –¢–ï–°–¢–´ –ü–†–û–ô–î–ï–ù–´! –°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–±–æ—Ç–µ.
```

## üöÄ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ–±—É—á–µ–Ω–∏—è

### –£—Å–ø–µ—à–Ω—ã–π –∑–∞–ø—É—Å–∫ –æ–±—É—á–µ–Ω–∏—è
- ‚úÖ –û–±—É—á–µ–Ω–∏–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- ‚úÖ –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ TensorBoard –ª–æ–≥–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è: `events.out.tfevents.1751746802.AI.441384.0`
- ‚úÖ MLflow runs —Å–æ–∑–¥–∞—é—Ç—Å—è: –Ω–æ–≤—ã–µ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ã –≤ `mlruns/`
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç: `enhanced_training.log`

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∫–∞—á–µ—Å—Ç–≤–∞
```
üìä Attention –¥–∏–∞–≥–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å: 0.0292 ‚Üí 0.0317 ‚Üí 0.0334
üîÑ Smart LR –∞–¥–∞–ø—Ç–∞—Ü–∏—è: LR –∏–∑–º–µ–Ω–µ–Ω –Ω–∞ 4.57e-05
üîß –ü—Ä–∏–º–µ–Ω–µ–Ω–æ 2 –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π
‚úÖ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ —É–≤–µ–ª–∏—á–µ–Ω–∏–µ guided attention: 200.0 ‚Üí 200.0
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
- `enhanced_training_main.py` - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –∏–º–ø–æ—Ä—Ç—ã –∏ MLflow –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- `training_utils/__init__.py` - —Å–æ–∑–¥–∞–Ω –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö –∏–º–ø–æ—Ä—Ç–æ–≤
- `training_utils/dynamic_padding.py` - —Ñ—É–Ω–∫—Ü–∏–∏ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ –ø–∞–¥–¥–∏–Ω–≥–∞
- `training_utils/bucket_batching.py` - —Ñ—É–Ω–∫—Ü–∏–∏ –±–∞—Ç—á–∏–Ω–≥–∞

### –¢–µ—Å—Ç–æ–≤—ã–µ —Ñ–∞–π–ª—ã
- `test_fixes_final.py` - –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

### –õ–æ–≥–∏ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- `enhanced_training.log` - –æ—Å–Ω–æ–≤–Ω–æ–π –ª–æ–≥ –æ–±—É—á–µ–Ω–∏—è
- `logs/` - TensorBoard –ª–æ–≥–∏
- `mlruns/` - MLflow —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ã
- `tensorboard.log` - –ª–æ–≥ TensorBoard —Å–µ—Ä–≤–µ—Ä–∞
- `mlflow.log` - –ª–æ–≥ MLflow —Å–µ—Ä–≤–µ—Ä–∞

## üîß –ö–ª—é—á–µ–≤—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

### 1. **–£–ª—É—á—à–µ–Ω–Ω–æ–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ attention –¥–∏–∞–≥–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏**
```python
# –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è attention –º–∞—Ç—Ä–∏—Ü—ã
attn = attn / attn.sum(axis=1, keepdims=True)

# –í—ã—á–∏—Å–ª–µ–Ω–∏–µ –¥–∏–∞–≥–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ batch
batch_diagonalities = []
for b in range(attention_matrix.shape[0]):
    diagonal_elements = []
    for i in range(min_dim):
        diagonal_elements.append(attn[i, i])
    batch_diagonalities.append(np.mean(diagonal_elements))
```

### 2. **–ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è MLflow**
```python
# –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ —É–∂–µ –∞–∫—Ç–∏–≤–Ω—ã–π run
active_run = mlflow.active_run()
if active_run is not None:
    self.logger.info(f"‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π MLflow run: {active_run.info.run_id}")
else:
    # –°–æ–∑–¥–∞–µ–º –Ω–æ–≤—ã–π run
    mlflow.start_run(run_name=f"training_run_{int(time.time())}")
```

### 3. **–î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**
```python
# –õ–æ–≥–∏—Ä—É–µ–º –¥–∏–∞–≥–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –∫–∞–∂–¥—ã–µ 100 —à–∞–≥–æ–≤ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
if self.global_step % 100 == 0:
    self.logger.info(f"üìä Attention –¥–∏–∞–≥–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å: {attention_diagonality:.4f}")
```

## üéØ –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å —Å–∏—Å—Ç–µ–º—ã

### ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤–æ
- [x] –ò–º–ø–æ—Ä—Ç—ã –≤—Å–µ—Ö –º–æ–¥—É–ª–µ–π
- [x] TensorBoard –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- [x] MLflow –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- [x] –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±—É—á–µ–Ω–∏—è
- [x] –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∫–∞—á–µ—Å—Ç–≤–∞
- [x] –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- [x] Smart Tuner –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- [x] Telegram –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### üìä –ú–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞
- **Attention –¥–∏–∞–≥–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å**: 0.03 (–Ω–æ—Ä–º–∞–ª—å–Ω–æ –¥–ª—è –Ω–∞—á–∞–ª–∞ –æ–±—É—á–µ–Ω–∏—è)
- **Guided attention weight**: –∞–¥–∞–ø—Ç–∏–≤–Ω–æ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è
- **Learning rate**: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∞–¥–∞–ø—Ç–∏—Ä—É–µ—Ç—Å—è
- **Loss**: —Å—Ç–∞–±–∏–ª—å–Ω–æ —Å–Ω–∏–∂–∞–µ—Ç—Å—è

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–ó–∞–ø—É—Å–∫ –ø–æ–ª–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è**: –°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –¥–ª—è –¥–ª–∏—Ç–µ–ª—å–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è
2. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —á–µ—Ä–µ–∑ TensorBoard**: `tensorboard --logdir=logs`
3. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —á–µ—Ä–µ–∑ MLflow**: `mlflow ui`
4. **Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è**: –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã –¥–ª—è –≤–∞–∂–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–°–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞ –∏ –≥–æ—Ç–æ–≤–∞ –∫ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ–º—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é. –í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Ä–µ—à–µ–Ω—ã, —Ç–µ—Å—Ç—ã –ø—Ä–æ–π–¥–µ–Ω—ã, –æ–±—É—á–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ.

---

**–î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è**: 5 –∏—é–ª—è 2025  
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ó–ê–í–ï–†–®–ï–ù–û –£–°–ü–ï–®–ù–û  
**–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å**: 100% üéâ 